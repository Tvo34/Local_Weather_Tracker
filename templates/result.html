{% extends "base.html" %}
{% block content %}

<div class="card">
    <h1>Weather in {{ city }}</h1>

    <!-- nhiá»‡t Ä‘á»™ hiá»ƒn thá»‹ -->
    <div id="tempValue" class="temp-number"
        data-celsius="{{ temperature }}">
        {{ temperature }}Â°C
    </div>

    <button id="toggleBtn">Switch to Â°F</button>

    <div class="info">
        <p>ğŸŒ¬ <b>Windspeed:</b> {{ windspeed }} km/h</p>
        <p>ğŸ“ <b>Latitude:</b> {{ latitude }}</p>
        <p>ğŸ“ <b>Longitude:</b> {{ longitude }}</p>
        <p>â± <b>Time:</b> {{ observation_time }}</p>
    </div>
</div>

<style>
.card {
    background: white;
    padding: 40px;
    border-radius: 20px;
    max-width: 800px;
    margin: auto;
    text-align: center;
    box-shadow: 0 4px 20px rgba(0,0,0,0.08);
}

.temp-number {
    font-size: 48px;
    margin-top: -10px;
    margin-bottom: 20px;
    font-weight: 700;
}
#toggleBtn {
    padding: 10px 28px;
    background: #333;
    color: white;
    border-radius: 10px;
    border: none;
    cursor: pointer;
}
</style>

<script>
    const tempEl = document.getElementById("tempValue");
    const toggleBtn = document.getElementById("toggleBtn");

    let isCelsius = true;
    const celsius = parseFloat(tempEl.dataset.celsius);

    toggleBtn.addEventListener("click", () => {
        
        if (isCelsius) {
            let f = (celsius * 9/5) + 32;
            tempEl.innerText = f.toFixed(1) + "Â°F";
            toggleBtn.innerText = "Switch to Â°C";
        } else {
            tempEl.innerText = celsius + "Â°C";
            toggleBtn.innerText = "Switch to Â°F";
        }

        isCelsius = !isCelsius;
    });
</script>

{% endblock %}
